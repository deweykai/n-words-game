(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const s of u.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerpolicy&&(u.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?u.credentials="include":l.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function v(){}function le(t){return t()}function Y(){return Object.create(null)}function j(t){t.forEach(le)}function Q(t){return typeof t=="function"}function M(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ue(t){return Object.keys(t).length===0}function a(t,e){t.appendChild(e)}function E(t,e,n){t.insertBefore(e,n||null)}function G(t){t.parentNode.removeChild(t)}function se(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function C(){return x(" ")}function ie(){return x("")}function N(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function ce(t){return function(e){return e.preventDefault(),t.call(this,e)}}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function K(t){return t===""?null:+t}function fe(t){return Array.from(t.childNodes)}function z(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function I(t,e){t.value=e==null?"":e}function ae(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let V;function O(t){V=t}const S=[],$=[],Z=[],ee=[],de=Promise.resolve();let H=!1;function me(){H||(H=!0,de.then(oe))}function J(t){Z.push(t)}const W=new Set;let R=0;function oe(){const t=V;do{for(;R<S.length;){const e=S[R];R++,O(e),_e(e.$$)}for(O(null),S.length=0,R=0;$.length;)$.pop()();for(let e=0;e<Z.length;e+=1){const n=Z[e];W.has(n)||(W.add(n),n())}Z.length=0}while(S.length);for(;ee.length;)ee.pop()();H=!1,W.clear(),O(t)}function _e(t){if(t.fragment!==null){t.update(),j(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(J)}}const F=new Set;let L;function he(){L={r:0,c:[],p:L}}function ge(){L.r||j(L.c),L=L.p}function A(t,e){t&&t.i&&(F.delete(t),t.i(e))}function q(t,e,n,r){if(t&&t.o){if(F.has(t))return;F.add(t),L.c.push(()=>{F.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function U(t){t&&t.c()}function P(t,e,n,r){const{fragment:l,after_update:u}=t.$$;l&&l.m(e,n),r||J(()=>{const s=t.$$.on_mount.map(le).filter(Q);t.$$.on_destroy?t.$$.on_destroy.push(...s):j(s),t.$$.on_mount=[]}),u.forEach(J)}function T(t,e){const n=t.$$;n.fragment!==null&&(j(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function pe(t,e){t.$$.dirty[0]===-1&&(S.push(t),me(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function B(t,e,n,r,l,u,s,m=[-1]){const i=V;O(t);const o=t.$$={fragment:null,ctx:[],props:u,update:v,not_equal:l,bound:Y(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:Y(),dirty:m,skip_bound:!1,root:e.target||i.$$.root};s&&s(o.root);let _=!1;if(o.ctx=n?n(t,e.props||{},(c,f,...h)=>{const b=h.length?h[0]:f;return o.ctx&&l(o.ctx[c],o.ctx[c]=b)&&(!o.skip_bound&&o.bound[c]&&o.bound[c](b),_&&pe(t,c)),f}):[],o.update(),_=!0,j(o.before_update),o.fragment=r?r(o.ctx):!1,e.target){if(e.hydrate){const c=fe(e.target);o.fragment&&o.fragment.l(c),c.forEach(G)}else o.fragment&&o.fragment.c();e.intro&&A(t.$$.fragment),P(t,e.target,e.anchor,e.customElement),oe()}O(i)}class D{$destroy(){T(this,1),this.$destroy=v}$on(e,n){if(!Q(n))return v;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!ue(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function te(t){let e,n,r;return{c(){e=g("input"),p(e,"placeholder","#"),p(e,"class","svelte-1qvl01j")},m(l,u){E(l,e,u),I(e,t[2]),n||(r=N(e,"input",t[5]),n=!0)},p(l,u){u&4&&e.value!==l[2]&&I(e,l[2])},d(l){l&&G(e),n=!1,r()}}}function be(t){let e,n,r,l,u,s,m,i,o,_,c,f=t[1]&&te(t);return{c(){e=g("form"),n=g("div"),r=g("div"),l=g("h1"),u=x(t[0]),s=C(),m=g("div"),f&&f.c(),i=C(),o=g("button"),o.textContent="Next",p(r,"class","word svelte-1qvl01j"),p(o,"class","svelte-1qvl01j"),p(m,"class","control svelte-1qvl01j"),p(n,"class","card")},m(h,b){E(h,e,b),a(e,n),a(n,r),a(r,l),a(l,u),a(n,s),a(n,m),f&&f.m(m,null),a(m,i),a(m,o),_||(c=N(e,"submit",ce(t[3])),_=!0)},p(h,[b]){b&1&&z(u,h[0]),h[1]?f?f.p(h,b):(f=te(h),f.c(),f.m(m,i)):f&&(f.d(1),f=null)},i:v,o:v,d(h){h&&G(e),f&&f.d(),_=!1,c()}}}function ye(t,e,n){let{word:r}=e,{next:l}=e,{expectInput:u}=e,s="";function m(){l(s.toUpperCase()),n(2,s="")}function i(){s=this.value,n(2,s)}return t.$$set=o=>{"word"in o&&n(0,r=o.word),"next"in o&&n(4,l=o.next),"expectInput"in o&&n(1,u=o.expectInput)},[r,u,s,m,l,i]}class ke extends D{constructor(e){super(),B(this,e,ye,be,M,{word:0,next:4,expectInput:1})}}function ne(t,e,n){const r=t.slice();return r[6]=e[n],r}function re(t){let e,n=t[6].word+"",r,l;return{c(){e=g("li"),r=x(n),l=C(),ae(e,"color",t[6].color),p(e,"class","svelte-crpqra")},m(u,s){E(u,e,s),a(e,r),a(e,l)},p:v,d(u){u&&G(e)}}}function ve(t){let e,n,r,l,u,s,m,i=t[1].length-t[0]+"",o,_,c,f,h,b=t[4],y=[];for(let d=0;d<b.length;d+=1)y[d]=re(ne(t,b,d));return{c(){e=g("div"),n=g("ul");for(let d=0;d<y.length;d+=1)y[d].c();r=C(),l=g("h2"),u=x("Score: "),s=x(t[3]),m=x(" / "),o=x(i),_=C(),c=g("button"),c.textContent="Done",p(n,"class","words svelte-crpqra"),p(c,"class","result-button svelte-crpqra"),p(e,"class","svelte-crpqra")},m(d,w){E(d,e,w),a(e,n);for(let k=0;k<y.length;k+=1)y[k].m(n,null);a(e,r),a(e,l),a(l,u),a(l,s),a(l,m),a(l,o),a(e,_),a(e,c),f||(h=N(c,"click",function(){Q(t[2])&&t[2].apply(this,arguments)}),f=!0)},p(d,[w]){if(t=d,w&16){b=t[4];let k;for(k=0;k<b.length;k+=1){const X=ne(t,b,k);y[k]?y[k].p(X,w):(y[k]=re(X),y[k].c(),y[k].m(n,null))}for(;k<y.length;k+=1)y[k].d(1);y.length=b.length}w&8&&z(s,t[3]),w&3&&i!==(i=t[1].length-t[0]+"")&&z(o,i)},i:v,o:v,d(d){d&&G(e),se(y,d),f=!1,h()}}}function we(t,e,n){let{words:r}=e,{lookback:l}=e,{guesses:u}=e,{next:s}=e;console.log(r),console.log(u);let m=[],i=0;for(let o=0;o<r.length;o++){const _=r[o],c=u[o+l];let f="gray";o<r.length-l&&(_==c?(i+=1,f="green"):f="red"),m.push({word:_,color:f})}return t.$$set=o=>{"words"in o&&n(5,r=o.words),"lookback"in o&&n(0,l=o.lookback),"guesses"in o&&n(1,u=o.guesses),"next"in o&&n(2,s=o.next)},[l,u,s,i,m,r]}class Ce extends D{constructor(e){super(),B(this,e,we,ve,M,{words:5,lookback:0,guesses:1,next:2})}}function xe(t){let e,n,r,l,u,s,m,i,o,_,c,f,h,b,y;return{c(){e=g("form"),n=g("div"),r=g("div"),l=g("label"),l.textContent="Length:",u=C(),s=g("input"),m=C(),i=g("div"),o=g("label"),o.textContent="Lookback:",_=C(),c=g("input"),f=C(),h=g("button"),h.textContent="Start",p(l,"for","length"),p(s,"name","length"),p(s,"type","number"),p(s,"min","1"),p(o,"for","lookback"),p(c,"name","lookback"),p(c,"type","number"),p(c,"min","1"),p(h,"type","submit"),p(h,"class","svelte-10luhx1"),p(n,"class","layout svelte-10luhx1")},m(d,w){E(d,e,w),a(e,n),a(n,r),a(r,l),a(r,u),a(r,s),I(s,t[0]),a(n,m),a(n,i),a(i,o),a(i,_),a(i,c),I(c,t[1]),a(n,f),a(n,h),b||(y=[N(s,"input",t[4]),N(c,"input",t[5]),N(e,"submit",t[2])],b=!0)},p(d,[w]){w&1&&K(s.value)!==d[0]&&I(s,d[0]),w&2&&K(c.value)!==d[1]&&I(c,d[1])},i:v,o:v,d(d){d&&G(e),b=!1,j(y)}}}function Ge(t,e,n){let{startGame:r}=e,l=10,u=2;function s(){r(l,u)}function m(){l=K(this.value),n(0,l)}function i(){u=K(this.value),n(1,u)}return t.$$set=o=>{"startGame"in o&&n(3,r=o.startGame)},[l,u,s,r,m,i]}class Le extends D{constructor(e){super(),B(this,e,Ge,xe,M,{startGame:3})}}function Ae(t){let e;return{c(){e=g("h1"),e.textContent="Invalid state"},m(n,r){E(n,e,r)},p:v,i:v,o:v,d(n){n&&G(e)}}}function Ee(t){let e,n;return e=new Le({props:{startGame:t[8]}}),{c(){U(e.$$.fragment)},m(r,l){P(e,r,l),n=!0},p:v,i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}function Ie(t){let e,n;return e=new Ce({props:{words:t[1],guesses:t[3],lookback:t[0],next:t[7]}}),{c(){U(e.$$.fragment)},m(r,l){P(e,r,l),n=!0},p(r,l){const u={};l&2&&(u.words=r[1]),l&8&&(u.guesses=r[3]),l&1&&(u.lookback=r[0]),e.$set(u)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}function Ne(t){let e,n;return e=new ke({props:{expectInput:t[5],word:t[4],next:t[6]}}),{c(){U(e.$$.fragment)},m(r,l){P(e,r,l),n=!0},p(r,l){const u={};l&32&&(u.expectInput=r[5]),l&16&&(u.word=r[4]),e.$set(u)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}function qe(t){let e,n,r,l;const u=[Ne,Ie,Ee,Ae],s=[];function m(i,o){return i[2]=="game"?0:i[2]=="results"?1:i[2]=="menu"?2:3}return e=m(t),n=s[e]=u[e](t),{c(){n.c(),r=ie()},m(i,o){s[e].m(i,o),E(i,r,o),l=!0},p(i,[o]){let _=e;e=m(i),e===_?s[e].p(i,o):(he(),q(s[_],1,1,()=>{s[_]=null}),ge(),n=s[e],n?n.p(i,o):(n=s[e]=u[e](i),n.c()),A(n,1),n.m(r.parentNode,r))},i(i){l||(A(n),l=!0)},o(i){q(n),l=!1},d(i){s[e].d(i),i&&G(r)}}}function je(t,e,n){let r;const l="A".charCodeAt(0),u="Z".charCodeAt(0);function s(){const d=u-l,k=l+Math.random()*d;return String.fromCharCode(k)}let m=0,i=2,o="menu",_=[],c=[],f=s();function h(d){n(1,_=[..._,f]),n(3,c=[...c,d]),n(4,f=s()),_.length>=m+i&&n(2,o="results")}function b(){n(2,o="menu")}function y(d,w){n(2,o="game"),m=d,n(0,i=w),n(1,_=[]),n(3,c=[]),n(4,f=s())}return t.$$.update=()=>{t.$$.dirty&3&&n(5,r=_.length>=i)},[i,_,o,c,f,r,h,b,y]}class Se extends D{constructor(e){super(),B(this,e,je,qe,M,{})}}function Oe(t){let e,n;return e=new Se({}),{c(){U(e.$$.fragment)},m(r,l){P(e,r,l),n=!0},p:v,i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),n=!1},d(r){T(e,r)}}}class Me extends D{constructor(e){super(),B(this,e,null,Oe,M,{})}}new Me({target:document.getElementById("app")});
